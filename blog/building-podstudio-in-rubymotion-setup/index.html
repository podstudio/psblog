<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">

    <title>Building podstud.io in Rubymotion - Setup</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.4.1/pure.css">

    <link rel="stylesheet" href="/stylesheets/fontawesome/font-awesome.css">
    <link rel="stylesheet" href="/stylesheets/fonts.css">
    <link rel="stylesheet" href="/stylesheets/main-grid.css">
    <link rel="stylesheet" href="/stylesheets/blog.css">
    <link rel="stylesheet" href="/stylesheets/github-syntax.css">

    <script src="/javascripts/all.js" type="text/javascript"></script>
  </head>
  <body class="blog blog_building-podstudio-in-rubymotion-setup blog_building-podstudio-in-rubymotion-setup_index">
    <div id="layout" class="pure-g">
        <div class="sidebar pure-u-1 pure-u-med-1-4">
            <div class="header">
                <hgroup>
                    <h1 class="brand-title">podstud<span>.io</span></h1>
                    <h2 class="brand-tagline">Nader Hendawi</h2>
                </hgroup>

                <nav class="nav">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a class="pure-button" href="/"><i class="fa fa-home fa-lg"></i></a>
                        </li>
                        <li class="nav-item">
                            <a class="pure-button" hreg="/about">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="pure-button" href="/blog">Blog</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>

        <div class="content pure-u-1 pure-u-med-3-4">
            <div>
              <h1>Building podstud.io in Rubymotion - Setup</h1>

              
                <div class="related-articles">
                  <p>This article is part of the <a href="/blog/categories/rubymotion/">RubyMotion</a> Series.</p>

                  <div class="nav-item">
                    
                      <a class="pure-button" href="/blog/building-podstudio-in-rubymotion/">
                        <i class="fa fa-chevron-left fa-lg"></i>
                        Building podstud.io in RubyMotion
                      </a>
                    
                  </div>

                  <div class="nav-item right">
                    
                  </div>
                </div>
              

              <p>Remember to add something here…</p>

<h3 id="setup--the-player-controller">Setup &amp; The Player Controller</h3>

<p>First, we need to create our new RubyMotion project. I'm a huge fan of the RubyMotionQuery library written by Todd Werth at http://infinitered.com/rmq/, so I am going to use that to get things moving in the right direction. It might(read: would definitely) be useful to check out the project and GitHub and see what @twerth has to say about rmq himself.</p>

<p><code>rmq create podstudio-rm</code></p>

<p>If we run <code>rake</code> now, we can see that our app is already up and running!</p>

<p>{&lt;2&gt;}<img alt="" src="/content/images/2014/Feb/iOS_Simulator_Screen_shot_Feb_10__2014_12_28_27_PM.png" /></p>

<p>Now, we need to create a controller to display the Podcast Episode Player View. I'll call it the PlayerController and create it by using RMQ's controller creation API:</p>

<p><code>rmq create controller player</code></p>

<p>Let's see what that did. The output of this command is as follows:</p>

<pre class="highlight ruby">  <span class="no">Creating</span> <span class="ss">controller: </span><span class="n">player</span>

     <span class="no">Using</span> <span class="n">existing</span> <span class="ss">directory: </span><span class="n">app</span><span class="o">/</span><span class="n">controllers</span>
  <span class="err">Δ</span>  <span class="no">Creating</span> <span class="ss">file: </span><span class="o">/</span><span class="no">Users</span><span class="o">/</span><span class="n">nader</span><span class="o">/</span><span class="no">Dev</span><span class="o">/</span><span class="n">podstudio</span><span class="o">/</span><span class="n">podstudio</span><span class="o">-</span><span class="n">rm</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">controllers</span><span class="o">/</span><span class="n">player_controller</span><span class="p">.</span><span class="nf">rb</span>
     <span class="no">Using</span> <span class="n">existing</span> <span class="ss">directory: </span><span class="n">app</span><span class="o">/</span><span class="n">stylesheets</span>
  <span class="err">Δ</span>  <span class="no">Creating</span> <span class="ss">file: </span><span class="o">/</span><span class="no">Users</span><span class="o">/</span><span class="n">nader</span><span class="o">/</span><span class="no">Dev</span><span class="o">/</span><span class="n">podstudio</span><span class="o">/</span><span class="n">podstudio</span><span class="o">-</span><span class="n">rm</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">stylesheets</span><span class="o">/</span><span class="n">player_controller_stylesheet</span><span class="p">.</span><span class="nf">rb</span>
     <span class="no">Using</span> <span class="n">existing</span> <span class="ss">directory: </span><span class="n">spec</span><span class="o">/</span><span class="n">controllers</span>
  <span class="err">Δ</span>  <span class="no">Creating</span> <span class="ss">file: </span><span class="o">/</span><span class="no">Users</span><span class="o">/</span><span class="n">nader</span><span class="o">/</span><span class="no">Dev</span><span class="o">/</span><span class="n">podstudio</span><span class="o">/</span><span class="n">podstudio</span><span class="o">-</span><span class="n">rm</span><span class="o">/</span><span class="n">spec</span><span class="o">/</span><span class="n">controllers</span><span class="o">/</span><span class="n">player_controller</span><span class="p">.</span><span class="nf">rb</span>

     <span class="no">Done</span>
</pre>
<p>So, the command created a controller, a stylesheet and a test file for the PlayerController. Now, to load the new PlayerController when the app is launched.</p>

<p>In <code>app/app_delegate.rb</code>, change the following lines:</p>

<pre class="highlight ruby">  <span class="n">main_controller</span> <span class="o">=</span> <span class="no">MainController</span><span class="p">.</span><span class="nf">alloc</span><span class="p">.</span><span class="nf">initWithNibName</span><span class="p">(</span><span class="kp">nil</span><span class="p">,</span> <span class="ss">bundle: </span><span class="kp">nil</span><span class="p">)</span>
  <span class="vi">@window</span><span class="p">.</span><span class="nf">rootViewController</span> <span class="o">=</span> <span class="no">UINavigationController</span><span class="p">.</span><span class="nf">alloc</span><span class="p">.</span><span class="nf">initWithRootViewController</span><span class="p">(</span><span class="n">main_controller</span><span class="p">)</span>
</pre>
<p>to</p>

<pre class="highlight ruby">  <span class="n">player_controller</span> <span class="o">=</span> <span class="no">PlayerController</span><span class="p">.</span><span class="nf">new</span>
  <span class="vi">@window</span><span class="p">.</span><span class="nf">rootViewController</span> <span class="o">=</span> <span class="no">UINavigationController</span><span class="p">.</span><span class="nf">alloc</span><span class="p">.</span><span class="nf">initWithRootViewController</span><span class="p">(</span><span class="n">player_controller</span><span class="p">)</span>
</pre><p>Then, add a title to the PlayerController so we can be sure we're in the right place.</p>

<p>In the viewDidLoad method of player_controller.rb, add the following:</p>

<pre class="highlight ruby"><span class="nb">self</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s2">"Player"</span>
</pre>
<p>Now, if we run <code>rake</code> we'll see that we are sent to the Player Controller this time.</p>

<p>{&lt;3&gt;}<img alt="" src="/content/images/2014/Feb/iOS_Simulator_Screen_shot_Feb_10__2014_12_40_11_PM.png" /></p>

<p>Now, we don't want our cool new podcasting app to look like every other iOS7 app out there, so let's try and add some basic styling to differentiate ourselves and make the app even more exciting.</p>

<h3 id="enter-pixate">Enter Pixate</h3>
<p>According to <a href="http://www.pixate.com/">their site</a>, Pixate is a free framework that lets you style your native iOS views with stylesheets. That means we get to use CSS (and even SASS) to style our UI components! If you haven't made the switch over to SASS from Vanilla CSS, please do yourself (and everyone who reads your code) a favor and at least <a href="http://sass-lang.com/">give it a look</a>.</p>

<p>Pixate has recently released its own CSS Framework that allows us to create a great looking app without writing everything from scratch. If you're familiar with Twitter Bootstrap, you'll immediately understand the advantages of using <a href="http://www.pixate.com/freestyle/">Freestyle</a>. So, let's start incorporating Pixate into our project.</p>

<h4 id="installing-pixate">Installing Pixate</h4>

<p>I'm going to use a gem called RubyMotion-Pixate to help us get off the ground here. The documentation for setup is fairly straightforward, so I won't duplicate efforts. Please refer to the setup step on <a href="https://github.com/Pixate/RubyMotion-Pixate">Github</a>. If you followed those steps correctly you should be good to go, but I like to use SASS rather than Vanilla CSS so there are a couple more steps. Make sure you have added <code>gem 'motion-pixate'</code> to your Gemfile and continue on.</p>

<p>First, we have to create a <code>sass</code> folder under our main project directory and copy in the .scss files from the Pixate Freestyle Download.</p>

<p>My directory structure now looks like this:</p>

<p>{&lt;4&gt;}<img alt="" src="/content/images/2014/Feb/Screen_Shot_2014_02_10_at_1_08_26_PM.png" /></p>

<p>Feel free to poke around these SASS files and see how simple it is to customize our UI now!</p>

<h4 id="pixate-sass-build-task">Pixate SASS Build Task</h4>
<p>One thing that is important to note is that our SASS is only compiled when we manually run <code>rake pixate:sass</code>. That's quite annoying to do repeatedly during the development process, so I like to add the following lines to my Rakefile:</p>

<pre class="highlight ruby">  <span class="n">task</span> <span class="ss">:"build:simulator"</span> <span class="o">=&gt;</span> <span class="ss">:"pixate:sass"</span>
  <span class="n">task</span> <span class="ss">:"build:device"</span> <span class="o">=&gt;</span> <span class="ss">:"pixate:sass"</span>
</pre>
<p>Now, whenever we build to the simulator or our device, our CSS file will automatically be generated for us by Pixate. </p>

<p>Lets take a look at what happens when we run <code>rake</code> now.</p>

<p>{&lt;5&gt;}<img alt="" src="/content/images/2014/Feb/iOS_Simulator_Screen_shot_Feb_10__2014_1_11_34_PM.png" /></p>

<p>Simple, but already starting to look much nicer than our default UI.</p>

<h3 id="next-steps">Next Steps</h3>

<p>Now that we are all set up, we can start developing the UI for our Podcast Player and exploring the powerful functionality we can introduce over time using RubyMotion. It should be mentioned that I follow the preceding steps for almost every new project I start in RubyMotion. Feel free to check out the project on <a href="https://github.com/podstudio/podstudio-rm/tree/setup">GitHub</a> and run it yourself. </p>

                <div class="footer">
                    <div class="pure-menu pure-menu-horizontal pure-menu-open">
                        <ul>
                            <li><a href="http://purecss.io/">About</a></li>
                            <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                            <li><a href="http://github.com/yui/pure/">GitHub</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="http://yui.yahooapis.com/3.14.1/build/yui/yui.js"></script>
    <script>
    YUI().use('node-base', 'node-event-delegate', function (Y) {
        // This just makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        Y.one('body').delegate('click', function (e) {
            e.preventDefault();
        }, 'a[href="#"]');
    });
    </script>
</body>
</html>
